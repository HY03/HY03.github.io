---
title: 정보보안 - 비대칭키 암호
date: '2021-08-25 09:00:00'
tags:
- 정보보안기사
- 비칭키 암호
related: true
categories:
- IS_Certification
toc: true
---

# 비대칭키 암호
- 키 배송 문제
    + 개요
        * 대칭키 암호를 사용하려면 키 배송 문제(key distribution problem) 발생
            - 암호화 키와 복호화 키가 동일
            - 키 배송 중 도청 가능성
        * 해결방안
            - 키의 사전 공유에 의한 해결
            - 키배포 센터에 의한 해결
            - Diffie-Hellman 키 교환에 의한 해결
            - 공개키 암호에 의한 해결
    + 키의 사전 공유에 의한 해결
        * 안전한 키를 사전에 공유함
            - 안전한 통로를 이용함
                + Trusted Authority (TA : 키관리기관)
        * 인원이 많아지면 키가 많아져서 문제
        * n명의 사원이 자신 외의 사람과 통신시 키는 n(n-1)/2 이다.
    + 키배포 센터에 의한 해결
        * KDC (Key Distribution Center : 온라인 키 분배 - 일종의 TA)
        * 암호 통신이 필요해질 때마다 통신용 키를 키배포 센터라는 신뢰받은 3자에 의해 공유
        * 과정
            - 1 : A 가 KDC에 B와 통신을 하겠다고 요청
            - 2 : KDC는 DB에서 A의 키와 B의 키를 추출(비밀키)
            - 3 : KDC는 A의 키, B의 키를 이용해 세션키를 생성, 각각 비밀키로 암호화함
            - 4 : A 에게 A의 키를 이용해 암호화한 세션키를 전달
            - 5 : B 에게 B의 키를 이용해 암호화한 세션키를 전달
            - 6 : A 는 자신의 개인키를 이용해 세션키를 복호화
            - 7 : A 는 세션키를 이용해 전송할 메시지를 암호화하여 B에게 전송
            - 8 : B 는 자신의 개인키를 이용해 세션키를 복호화
            - 9 : B 는 세션키를 이용해 A에게 전송받은 메시지를 복호화
            - 10 : 통신 종료 후 세션키는 폐기
    + Diffie-Hellman 키 교환에 의한 해결
        * 개요
            - 1976년 공개키 암호방식을 최초로 제안한 휘트필드 디피와 마틴 헬먼이 발명한 알고리즘
            - 공개키 암호방식의 개념을 이용하여 두 사용자 간에 공통의 암호화키를 안전하게 공유할 수 있는 방법 제시 (최초의 비밀키 교환 프로토콜)
            - Diffie-Hellman 프로토콜 방법에서는 양쪽 통신 주체가 KDC 없이 대칭 세션키를 생성, 대칭키를 만들기 전에 두 개의 수 p와 g를 선택해야 함. p는 매우 큰 소수로서 300자리가 넘는 십진수
            - 키 교환이라는 이름이 붙어있지만 키 교환이 아니라 공유할 키를 계산하여 만들어 내는 것, 때문에 키 합의(Diffie-Hellman key agreement)로 불리기도 함
            - 유한체상의 이산대수문제를 풀기 어렵다는 사실이 이를 뒷받침함
        * Diffie-Hellman의 안정성
            - 두 가지 공격에 약점을 보임, 이산대수공격, 중간자 공격
            - 이산대수공격
                + 키 교환의 안정성을 이산대수문제를 풀기 어렵다는데 기반을 둔다.
                + Eve가 R1과 R2를 가로챌 수 있으므로 대칭키 K를 계산할 수 있다.
                    * A : R1 (공개값) = g^x mod p
                    * B : R2 (공개값) = g^y mod p
                    * A 는 R1을 B에 전송
                    * B 는 R2을 A에 전송
                    * A : K = R2^x mod p
                    * B : K = R1^y mod p
                        - K = g^xy mod p
                    * Eve 가 R1, R2 를 가로채 x,y 를 추출하여 K를 생성할 수 있음
                + x, y값을 추출해내서 더 이상 비밀키가 비밀이 되지 않는다.
            - 중간자 공격(man in the middle attack)
                + 키 교환 프로토콜은 인증 단계가 없어서 이런 공격에 취약
                + 공격을 막기 위해 디지털서명과 공개키 인증서 등을 이용하면 됨
            - DoS 공격
                + Diffie-Hellman 은 지수함수에 기초하고 있어 계산이 복잡함
                + 동시에 통신 시 비밀키 생성 시 많은 부하가 걸림
                + 키 생성을 다수 요청하면 서버가 마비됨
    + 공개키 암호에 의한 해결
        * 개요
            - 대칭키 암호에서 암호화키와 복호화키는 같다. 공개키 암호에서는 이 두개가 다르다.
            - 수신자는 미리 암호화키 (공개키) 를 송신자에게 알려준다. Eve 에게 알려져도 괜찮다. 송신자는 암호화키 (공개키) 로 암호화하여 수신자에게 보낸다.
            - 복호화는 복호화키 (개인키) 를 가지고 있는 사람(수신자)만 가능하다. 이러면 복호화키를 전달할 필요가 없다.
- 공개키 암호 (public-key cryptography)
    + 개요
        * 대칭키 암호는 평문을 복잡한 형태로 변환해서 기밀성을 유지
        * 공개키 암호는 수학적으로 해결하기 곤란한 문제를 토대로 해서 기밀성을 유지
        * 전자문서의 무결성, 전자서명(부인방지) 구현에 활용
        * 다양한 암호 프로토콜에 사용
        * 공개키 암호에서는 암호화키와 복호화키가 분리되어 있음.
    + 수학적으로 해결하기 곤란한 문제
        * 소인수분해 문제
            - RSA
            - Rabin
        * 이산대수 문제
            - ElGamal
            - DSA (DSS)
            - ECC
    + 과정
        * 1 : A가 세션키를 B의 공개키로 암호화
        * 2 : A가 암호화된 세션키를 B에 전송
        * 3 : B가 B의 개인키로 암호화된 세션키를 복호화
            - B의 공개키 / 개인키는 수학적으로 밀접한 관계가 있음
        * 4 : A 와 B의 키 교환 완료
- RSA 암호시스템
    + 개요
        * 기본 개념
            - RSA 는 공개키 암호 알고리즘 중 하나
            - 세계적으로 사실상 표준
            - Rivest-Shamir-Adelman 의 첫 글자를 따서 붙여짐
            - 인수분해 문제해결의 높은 난이도를 이용한 가장 대표적인 공개키 암호 알고리즘
            - 디지털 서명의 용도로도 사용됨
            - SSL 프로토콜을 가진 웹 브라우저, PGP, 공개키 암호시스템을 사용하는 정부 시스템 등에서 사용
        * 암호화와 복호화
            - RSA는 e와 d 두 지수를 사용
                + e : 공개하는 값
                + d : 비밀로 유지하는 값
                + P : 평문
                + C : 암호문
            - 