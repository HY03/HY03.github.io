---
title: 정보보안 - 유닉스 런레벨, 사용자 관리
date: '2021-01-15 15:00:00'
tags:
- 정보보안기사
- UNIX
related: true
categories:
- IS_Certification
toc: true
---

# 유닉스의 시작과 종료

# 부팅 관련 용어

- 런 레벨 (Run Level)
    + 시스템의 운영 상태를 숫자나 문자로 표현한 것
    + 필요 시 유닉스 부팅을 변경하여 네트워크 사용을 못하게 하거나 다른 사용자의 접근을 막음

- `/etc/inittab` 파일
    + init 프로세스
    + 모든 프로세스의 부모 프로세스
    + `/etc/inittab` 파일에 저장 되어 있는 스크립트 대로 프로세스들을 생성
    + `/etc/inittab` 파일에 정의된 레벨에 따라 `/etc/rc.d/rc[런레벨].d` 디렉터리에 나열된 스크립트를 실행하여 시스템의 운영상태를 구성

    |런 레벨|상태|설명|
    |:---|:---|:---|
    |0||PROM(Programmable Read-Only Memory) 감사 단계|
    |1|부팅 직후 상태|⦁ 관리상태 단계. 사용자 로그인의 접근이 불가능한 단일 사용자 단계. 로컬 파일 시스템이 마운트 된 상태 상태<br/>⦁ 암호를 변경할 때 사용|
    |2|정상 상태|⦁ 공유 자원을 갖지 않은 다중 사용자 단계<br/>⦁ 멀티 유저 모드(NFS 클라이언트 모드)|
    |3|정상 상태|기본 실행단계로 자원을 가진 다중 사용자 단계, 텍스트 유저모드<br/>⦁ 멀티 유저 모드(NFS 서버 모드), UNIX 기본 Run Level|
    |4||현재 사용되지 않음|
    |5|⦁ 유닉스:종료상태<br/>⦁ 리눅스:정상상태|⦁ 시스템 power off 모드<br/>⦁ Run Level 3로 기동 후에 그래픽 모드인 X-Windows 를 실행|
    |6|재부팅|재부팅 단계로 실행단계 3의 상태로 재부팅|
    |S,s||시스템 싱글 유저 모드, 로컬 파일 시스템이 마운트 되지 않은 상태|

    + 명령어
        * `init S` : 시스템 유지보수
        * UNIX
            - `shutdown -y -g 0 -i 5` : System V, 유닉스 시스템 종료
                + `-y` : 질의에 yes
                + `g 0` : 초단위 대기시간 0초, default 60초
                + `i 5` : init 런레벨 5
            - `shutdown -y -g 20 -i 6 "server reboot"`
                + 20초 후에 서버 리부팅, "server reboot" 메시지 전송
        * BSD & 리눅스
            - `shutdown -h` : halt, PROM 상태 (하드웨어 점검 후 ROM에 접근 )
            - `shutdown -r +10` : reboot (10분후)
            - `shutdown -k` : reboot (fake)
            - `shutdown -f` : fast reboot

- INIT 상태 (INIT State)
    + init 상태 = 런 레벨
    + init 명령 : 시스템이 런 레벨을 이동할 때 사용

- UNIX 시스템 시작 (부팅과정)
    + Bios 과정
        * 시스템의 기본적인 자원, 하드웨어 이상 탐지, 정보 수집 (PROM)
    + Boot Program 과정
        * 하드디스크에서 커널을 읽어들여 메모리에 로딩
    + Kernel 과정
        * 커널이 시스템 제어권을 넘겨받아 운영체제가 구동되는 과정
        * 시스템 운영을 위한 초기화 작업
    + init 과정
        * 커널에 의해서 생성되는 첫 번째 프로세스

- BSD 계열
    + 싱글유저모드, 멀티유저 모드
- System V 계열
    + 0, 1, 2, 3, 4, 5, 6, s (런레벨)

- 하드 디스크 동기화(Sync)
    + UNIX 시스템은 하드 디스크의 입,출력에 대한 효율성을 높이기 위해 버퍼를 운영
    + 시스템 비정상적으로 종료시 버퍼 내용이 미반영, 파일 시스템에서 무결성 문제 발생
    + 유닉스나 리눅스 종료 시 sync 명령을 내리는 이유
